version: '3.3'

services: 
    ticket:
        build: ./ticker_order
        depends_on: db
    db:
        image: mysql:latest
        restart: always
        environment: 
            MYSQL_DATA_BASE: 'db'
            MYSQL_USER: 'user'
            MYSQL_PASSWORD: '1234'
            MYSQL_ROOT_PASSWORD: '1234'
        ports:
            - '3001:3001'
        volumes: 
            - my-db:/var/lib/mysql
    
volumes: 
    my-db: